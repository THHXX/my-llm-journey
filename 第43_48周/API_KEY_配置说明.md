# ☁️ 阿里云 Qwen (通义千问) API 配置指南

为了让“金融投研助手”能够生成更复杂、更专业的分析报告，我们增加了对阿里云 Qwen-Max 模型（云端 API）的支持。

## 1. 为什么使用云端 API？
- **能力更强**：Qwen-Max 是千亿级参数的大模型，逻辑推理和文本生成能力远超本地的 0.5B/1.8B 小模型。
- **速度更快**：利用阿里云的算力，生成速度通常优于本地运行（取决于网速）。
- **更长的上下文**：支持处理更长的财报内容。

## 2. 如何获取 API Key？
1. 访问 [阿里云百炼控制台](https://bailian.console.aliyun.com/?apiKey=1)。
2. 登录您的阿里云账号（支持支付宝/淘宝扫码）。
3. 开通“模型服务”（DashScope），新用户通常有免费额度。
4. 在“API-KEY管理”页面创建一个新的 API Key。
5. 复制以 `sk-` 开头的字符串。

## 3. 如何配置？
您可以选择以下任意一种方式：

### 方法 A: 使用 key.txt 文件 (推荐)
1. 在项目根目录 (`f:\Desktop\个人资料\大模型学习项目\第43_48周`) 找到 `key.txt` 文件。
2. 用记事本打开，**删除里面的所有说明文字**。
3. **只粘贴** 您的 API Key (例如 `sk-123456...`)。
4. 保存并关闭。

### 方法 B: 设置环境变量
在您的系统环境变量中添加 `DASHSCOPE_API_KEY`，值为您的 API Key。

## 4. 如何在项目中使用？
1. 运行 `streamlit run src/web_ui.py`。
2. 在左侧侧边栏的“🤖 模型选择”中，选择 **"Cloud (阿里云 Qwen-Max)"**。
3. 系统会自动读取您的 API Key 并调用云端模型。

---
**注意**：
- 请保管好您的 API Key，不要分享给他人。
- 如果 `key.txt` 中包含中文说明或格式错误，程序可能会报错。请确保文件中只有 Key 字符串。
